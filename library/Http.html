<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>F# Data: HTTP Utilities
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The F# Data library implements type providers for working with structured file formats (CSV, HTML, JSON and XML) and for accessing the WorldBank data. It also includes helpers for parsing CSV, HTML and JSON files, and for sending HTTP requests.">
    <meta name="author" content="Tomas Petricek; Gustavo Guerra; Colin Bull">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="/FSharp.Data/content/style.css" />
    <link type="text/css" rel="stylesheet" href="/FSharp.Data/content/fsdata.css" />
    <script type="text/javascript" src="/FSharp.Data/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://fsprojects.github.io/FSharp.Data.Toolbox"><img height="16" width="16" src="http://fsharp.org/images/thumbs/FSharp.Data.Toolbox.png" /> F# Data Toolbox</a></li>
        </ul>
        <h3 class="muted"><a href="/FSharp.Data/index.html">F# Data</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>F# Data: HTTP Utilities</h1>
<p>The .NET library provides a powerful API for creating and sending HTTP web requests.
There is a simple <code>WebClient</code> type (see <a href="http://msdn.microsoft.com/en-us/library/system.net.webclient.aspx">MSDN</a>) and a more flexible <code>HttpWebRequest</code>
type (see <a href="http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx">MSDN</a>). However, these two types are quite difficult to use if you
want to quickly run a simple HTTP request and specify parameters such as method,
HTTP POST data, or additional headers.</p>
<p>The F# Data Library provides a simple <code>Http</code> type with four overloaded methods:
<code>RequestString</code> and <code>AsyncRequestString</code>, that can be used to create a simple request and
perform it synchronously or asynchronously, and <code>Request</code> and it's async companion <code>AsyncRequest</code> if
you want to request binary files or you want to know more about the response like the status code,
the response URL, or the returned headers and cookies.</p>
<p>To use the type, we first need to reference the library using <code>#r</code> (in an F# interactive)
or add reference to a project. The type is located in <code>FSharp.Data</code> namespace:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;../../../bin/lib/net45/FSharp.Data.dll&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Data</span>
</code></pre></td>
</tr>
</table>
<h2>Sending simple requests</h2>
<p>To send a simple HTTP (GET) request that downloads a specified web page, you
can use <code>Http.RequestString</code> and <code>Http.AsyncRequestString</code> with just a single parameter:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Download the content of a web site</span>
<span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">RequestString</span><span class="pn">(</span><span class="s">&quot;http://tomasp.net&quot;</span><span class="pn">)</span>

<span class="c">// Download web site asynchronously</span>
<span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="k">async</span> <span class="pn">{</span> <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">html</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 7)" onmouseover="showTip(event, 'fs3', 7)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">AsyncRequestString</span><span class="pn">(</span><span class="s">&quot;http://tomasp.net&quot;</span><span class="pn">)</span>
        <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%d</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="id">html</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="id">Length</span> <span class="pn">}</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="id">Start</span>
</code></pre></td>
</tr>
</table>
<p>In the rest of the documentation, we focus on the <code>RequestString</code> method, because
the use of <code>AsyncRequestString</code> is exactly the same.</p>
<h2>Query parameters and headers</h2>
<p>You can specify query parameters either by constructing
an URL that includes the parameters (e.g. <code>http://...?test=foo&amp;more=bar</code>) or you
can pass them using the optional parameter <code>query</code>. The following example also explicitly
specifies the GET method, but it will be set automatically for you if you omit it:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 14)" onmouseover="showTip(event, 'fs3', 14)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 15)" onmouseover="showTip(event, 'fs4', 15)" class="id">RequestString</span>
  <span class="pn">(</span> <span class="s">&quot;http://httpbin.org/get&quot;</span><span class="pn">,</span> 
    <span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="id">query</span><span class="o">=</span><span class="pn">[</span><span class="s">&quot;test&quot;</span><span class="pn">,</span> <span class="s">&quot;foo&quot;</span><span class="pn">]</span><span class="pn">,</span> <span class="id">httpMethod</span><span class="o">=</span><span class="s">&quot;GET&quot;</span> <span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>Additional headers are specified similarly - using an optional parameter <code>headers</code>.
The collection can contain custom headers, but also standard headers such as the
Accept header (which has to be set using a specific property when using <code>HttpWebRequest</code>).</p>
<p>The following example uses <a href="http://www.themoviedb.org">The Movie Database</a> API
to search for the word "batman". To run the sample, you'll need to register and
provide your API key:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// API key for http://www.themoviedb.org</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 17)" onmouseover="showTip(event, 'fs13', 17)" class="id">apiKey</span> <span class="o">=</span> <span class="s">&quot;&lt;please register to get a key&gt;&quot;</span>

<span class="c">// Run the HTTP web request</span>
<span onmouseout="hideTip(event, 'fs3', 18)" onmouseover="showTip(event, 'fs3', 18)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 19)" onmouseover="showTip(event, 'fs4', 19)" class="id">RequestString</span>
  <span class="pn">(</span> <span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span> <span class="id">httpMethod</span> <span class="o">=</span> <span class="s">&quot;GET&quot;</span><span class="pn">,</span>
    <span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="id">query</span>   <span class="o">=</span> <span class="pn">[</span> <span class="s">&quot;api_key&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="id">apiKey</span><span class="pn">;</span> <span class="s">&quot;query&quot;</span><span class="pn">,</span> <span class="s">&quot;batman&quot;</span> <span class="pn">]</span><span class="pn">,</span>
    <span class="id">headers</span> <span class="o">=</span> <span class="pn">[</span> <span class="s">&quot;Accept&quot;</span><span class="pn">,</span> <span class="s">&quot;application/json&quot;</span> <span class="pn">]</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>The library supports a simple and unchecked string based API (used in the previous example),
but you can also use pre-defined header names to avoid spelling mistakes. The named headers
are available in <code>HttpRequestHeaders</code> (and <code>HttpResponseHeaders</code>) modules, so you can either
use the full name <code>HttpRequestHeaders.Accept</code>, or open the module and use just the short name
<code>Accept</code> as in the following example. Similarly, the <code>HttpContentTypes</code> enumeration provides
well known content types:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 22)" onmouseover="showTip(event, 'fs1', 22)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 23)" onmouseover="showTip(event, 'fs2', 23)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="id">HttpRequestHeaders</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Run the HTTP web request</span>
<span onmouseout="hideTip(event, 'fs3', 25)" onmouseover="showTip(event, 'fs3', 25)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 26)" onmouseover="showTip(event, 'fs4', 26)" class="id">RequestString</span>
  <span class="pn">(</span> <span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span>
    <span onmouseout="hideTip(event, 'fs12', 27)" onmouseover="showTip(event, 'fs12', 27)" class="id">query</span>   <span class="o">=</span> <span class="pn">[</span> <span class="s">&quot;api_key&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 28)" onmouseover="showTip(event, 'fs13', 28)" class="id">apiKey</span><span class="pn">;</span> <span class="s">&quot;query&quot;</span><span class="pn">,</span> <span class="s">&quot;batman&quot;</span> <span class="pn">]</span><span class="pn">,</span>
    <span class="id">headers</span> <span class="o">=</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs15', 29)" onmouseover="showTip(event, 'fs15', 29)" class="fn">Accept</span> <span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="m">HttpContentTypes</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="id">Json</span> <span class="pn">]</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2>Getting extra information</h2>
<p>Note that in the previous snippet, if you don't specify a valid API key, you'll get a (401) Unathorized error,
and that will throw an exception. Unlike when using <code>WebRequest</code> directly, the exception message will still include
the response content, so it's easier to debug in F# interactive when the server returns extra info.</p>
<p>You can also opt out of the exception by specifying the <code>silentHttpErrors</code> parameter:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 32)" onmouseover="showTip(event, 'fs3', 32)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 33)" onmouseover="showTip(event, 'fs4', 33)" class="id">RequestString</span><span class="pn">(</span><span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span> <span class="id">silentHttpErrors</span> <span class="o">=</span> <span class="k">true</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>This returns the following:</p>
<table class="pre"><tr><td><pre><code>"{"status_code":7,"status_message":"Invalid API key: You must be granted a valid key.","success":false}"</code></pre></td></tr></table>
<p>In this case, you might want to look at the HTTP status code so you don't confuse an error message for an actual response.
If you want to see more information about the response, including the status code, the response
headers, the returned cookies, and the response url (which might be different to
the url you passed when there are redirects), you can use the <code>Request</code> method instead of the <code>RequestString</code> method:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 34)" onmouseover="showTip(event, 'fs18', 34)" class="id">response</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 35)" onmouseover="showTip(event, 'fs3', 35)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 36)" onmouseover="showTip(event, 'fs19', 36)" class="id">Request</span><span class="pn">(</span><span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span> <span class="id">silentHttpErrors</span> <span class="o">=</span> <span class="k">true</span><span class="pn">)</span>

<span class="c">// Examine information about the response</span>
<span onmouseout="hideTip(event, 'fs18', 37)" onmouseover="showTip(event, 'fs18', 37)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 38)" onmouseover="showTip(event, 'fs20', 38)" class="id">Headers</span>
<span onmouseout="hideTip(event, 'fs18', 39)" onmouseover="showTip(event, 'fs18', 39)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs21', 40)" onmouseover="showTip(event, 'fs21', 40)" class="id">Cookies</span>
<span onmouseout="hideTip(event, 'fs18', 41)" onmouseover="showTip(event, 'fs18', 41)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 42)" onmouseover="showTip(event, 'fs22', 42)" class="id">ResponseUrl</span>
<span onmouseout="hideTip(event, 'fs18', 43)" onmouseover="showTip(event, 'fs18', 43)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 44)" onmouseover="showTip(event, 'fs23', 44)" class="id">StatusCode</span>
</code></pre></td>
</tr>
</table>
<h2>Sending request data</h2>
<p>If you want to create a POST request with HTTP POST data, you can specify the
additional data in the <code>body</code> optional parameter. This parameter is of type <code>HttpRequestBody</code>, which
is a discriminated union with three cases:</p>
<ul>
<li><code>TextRequest</code> for sending a string in the request body.</li>
<li><code>BinaryUpload</code> for sending binary content in the request.</li>
<li><code>FormValues</code> for sending a set of name-value pairs correspondent to form values.</li>
</ul>
<p>If you specify a body, you do not need to set the <code>httpMethod</code> parameter, it will be set to <code>Post</code> automatically.</p>
<p>The following example uses the <a href="http://httpbin.org">httpbin.org</a> service which
returns the request details:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 45)" onmouseover="showTip(event, 'fs3', 45)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 46)" onmouseover="showTip(event, 'fs4', 46)" class="id">RequestString</span><span class="pn">(</span><span class="s">&quot;http://httpbin.org/post&quot;</span><span class="pn">,</span> <span class="id">body</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs24', 47)" onmouseover="showTip(event, 'fs24', 47)" class="uc">FormValues</span> <span class="pn">[</span><span class="s">&quot;test&quot;</span><span class="pn">,</span> <span class="s">&quot;foo&quot;</span><span class="pn">]</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>By default, the <code>Content-Type</code> header is set to <code>text/plain</code>, <code>application/x-www-form-urlencoded</code>,
or <code>application/octet-stream</code>, depending on which kind of <code>HttpRequestBody</code> you specify, but you can change
this behaviour by adding <code>content-type</code> to the list of headers using the optional argument <code>headers</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 48)" onmouseover="showTip(event, 'fs3', 48)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 49)" onmouseover="showTip(event, 'fs4', 49)" class="id">RequestString</span>
  <span class="pn">(</span> <span class="s">&quot;http://httpbin.org/post&quot;</span><span class="pn">,</span> 
    <span class="id">headers</span> <span class="o">=</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs25', 50)" onmouseover="showTip(event, 'fs25', 50)" class="fn">ContentType</span> <span onmouseout="hideTip(event, 'fs16', 51)" onmouseover="showTip(event, 'fs16', 51)" class="m">HttpContentTypes</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 52)" onmouseover="showTip(event, 'fs17', 52)" class="id">Json</span> <span class="pn">]</span><span class="pn">,</span>
    <span class="id">body</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 53)" onmouseover="showTip(event, 'fs26', 53)" class="uc">TextRequest</span> <span class="s">&quot;&quot;&quot; {&quot;test&quot;: 42} &quot;&quot;&quot;</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2>Maintaining cookies across requests</h2>
<p>If you want to maintain cookies between requests, you can specify the <code>cookieContainer</code>
parameter. The following example will request the MSDN documentation for the
<code>HttpRequest</code> class. It will return the code snippets in C# and not F#:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Build URL with documentation for a given class</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 54)" onmouseover="showTip(event, 'fs27', 54)" class="fn">msdnUrl</span> <span onmouseout="hideTip(event, 'fs28', 55)" onmouseover="showTip(event, 'fs28', 55)" class="id">className</span> <span class="o">=</span> 
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 56)" onmouseover="showTip(event, 'fs29', 56)" class="id">root</span> <span class="o">=</span> <span class="s">&quot;http://msdn.microsoft.com&quot;</span>
  <span onmouseout="hideTip(event, 'fs30', 57)" onmouseover="showTip(event, 'fs30', 57)" class="fn">sprintf</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">/en-gb/library/</span><span class="pf">%s</span><span class="s">.aspx&quot;</span> <span onmouseout="hideTip(event, 'fs29', 58)" onmouseover="showTip(event, 'fs29', 58)" class="id">root</span> <span onmouseout="hideTip(event, 'fs28', 59)" onmouseover="showTip(event, 'fs28', 59)" class="id">className</span>

<span class="c">// Get the page and search for F# code</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 60)" onmouseover="showTip(event, 'fs31', 60)" class="id">docInCSharp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 61)" onmouseover="showTip(event, 'fs3', 61)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 62)" onmouseover="showTip(event, 'fs4', 62)" class="id">RequestString</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs27', 63)" onmouseover="showTip(event, 'fs27', 63)" class="fn">msdnUrl</span> <span class="s">&quot;system.web.httprequest&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs31', 64)" onmouseover="showTip(event, 'fs31', 64)" class="fn">docInCSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 65)" onmouseover="showTip(event, 'fs32', 65)" class="id">Contains</span> <span class="s">&quot;&lt;a&gt;F#&lt;/a&gt;&quot;</span>
</code></pre></td>
</tr>
</table>
<p>If we go to another MSDN page and click on a F# code sample, and then go
back to the <code>HttpRequest</code> class documentation, while maintaining the same <code>cookieContainer</code>,
we will be presented with the F# code snippets:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs33', 66)" onmouseover="showTip(event, 'fs33', 66)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 67)" onmouseover="showTip(event, 'fs34', 67)" class="id">Net</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 68)" onmouseover="showTip(event, 'fs35', 68)" class="id">cc</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="rt">CookieContainer</span><span class="pn">(</span><span class="pn">)</span>

<span class="c">// Send a request to switch the language</span>
<span onmouseout="hideTip(event, 'fs37', 70)" onmouseover="showTip(event, 'fs37', 70)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 71)" onmouseover="showTip(event, 'fs38', 71)" class="id">RequestString</span>
  <span class="pn">(</span> <span onmouseout="hideTip(event, 'fs27', 72)" onmouseover="showTip(event, 'fs27', 72)" class="fn">msdnUrl</span> <span class="s">&quot;system.datetime&quot;</span><span class="pn">,</span> 
    <span onmouseout="hideTip(event, 'fs12', 73)" onmouseover="showTip(event, 'fs12', 73)" class="id">query</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;cs-save-lang&quot;</span><span class="pn">,</span> <span class="s">&quot;1&quot;</span><span class="pn">;</span> <span class="s">&quot;cs-lang&quot;</span><span class="pn">,</span><span class="s">&quot;fsharp&quot;</span><span class="pn">]</span><span class="pn">,</span> 
    <span class="id">cookieContainer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 74)" onmouseover="showTip(event, 'fs35', 74)" class="id">cc</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 75)" onmouseover="showTip(event, 'fs39', 75)" class="fn">ignore</span>

<span class="c">// Request the documentation again &amp; search for F#</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 76)" onmouseover="showTip(event, 'fs40', 76)" class="id">docInFSharp</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs37', 77)" onmouseover="showTip(event, 'fs37', 77)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 78)" onmouseover="showTip(event, 'fs38', 78)" class="id">RequestString</span>
    <span class="pn">(</span> <span onmouseout="hideTip(event, 'fs27', 79)" onmouseover="showTip(event, 'fs27', 79)" class="fn">msdnUrl</span> <span class="s">&quot;system.web.httprequest&quot;</span><span class="pn">,</span> 
      <span class="id">cookieContainer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 80)" onmouseover="showTip(event, 'fs35', 80)" class="id">cc</span> <span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs40', 81)" onmouseover="showTip(event, 'fs40', 81)" class="fn">docInFSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 82)" onmouseover="showTip(event, 'fs32', 82)" class="id">Contains</span> <span class="s">&quot;&lt;a&gt;F#&lt;/a&gt;&quot;</span>
</code></pre></td>
</tr>
</table>
<h2>Requesting binary data</h2>
<p>The <code>RequestString</code> method will always return the response as a <code>string</code>, but if you use the
<code>Request</code> method, it will return a <code>HttpResponseBody.Text</code> or a
<code>HttpResponseBody.Binary</code> depending on the response <code>content-type</code> header:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 83)" onmouseover="showTip(event, 'fs41', 83)" class="id">logoUrl</span> <span class="o">=</span> <span class="s">&quot;https://raw.github.com/fsharp/FSharp.Data/master/misc/logo.png&quot;</span>
<span class="k">match</span> <span onmouseout="hideTip(event, 'fs37', 84)" onmouseover="showTip(event, 'fs37', 84)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 85)" onmouseover="showTip(event, 'fs42', 85)" class="id">Request</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 86)" onmouseover="showTip(event, 'fs41', 86)" class="id">logoUrl</span><span class="pn">)</span><span class="pn">.</span><span class="id">Body</span> <span class="k">with</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs43', 87)" onmouseover="showTip(event, 'fs43', 87)" class="uc">Text</span> <span onmouseout="hideTip(event, 'fs44', 88)" onmouseover="showTip(event, 'fs44', 88)" class="id">text</span> <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs8', 89)" onmouseover="showTip(event, 'fs8', 89)" class="fn">printfn</span> <span class="s">&quot;Got text content: </span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs44', 90)" onmouseover="showTip(event, 'fs44', 90)" class="id">text</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs45', 91)" onmouseover="showTip(event, 'fs45', 91)" class="uc">Binary</span> <span onmouseout="hideTip(event, 'fs46', 92)" onmouseover="showTip(event, 'fs46', 92)" class="id">bytes</span> <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs8', 93)" onmouseover="showTip(event, 'fs8', 93)" class="fn">printfn</span> <span class="s">&quot;Got </span><span class="pf">%d</span><span class="s"> bytes of binary content&quot;</span> <span onmouseout="hideTip(event, 'fs46', 94)" onmouseover="showTip(event, 'fs46', 94)" class="id">bytes</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 95)" onmouseover="showTip(event, 'fs47', 95)" class="id">Length</span>
</code></pre></td>
</tr>
</table>
<h2>Customizing the HTTP request</h2>
<p>For the cases where you need something not natively provided by the library, you can use the
<code>customizeHttpRequest</code> parameter, which expects a function that transforms an <code>HttpWebRequest</code>.</p>
<p>As an example, let's say you want to add a client certificate to your request. To do that,
you need to open the <code>X509Certificates</code> namespace from  <code>System.Security.Cryptography</code>,
create a <code>X509ClientCertificate2</code> value, and add it to the <code>ClientCertificates</code> list of the request.</p>
<p>Assuming the certificate is stored in <code>myCertificate.pfx</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs33', 96)" onmouseover="showTip(event, 'fs33', 96)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 97)" onmouseover="showTip(event, 'fs48', 97)" class="id">Security</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 98)" onmouseover="showTip(event, 'fs49', 98)" class="id">Cryptography</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs50', 99)" onmouseover="showTip(event, 'fs50', 99)" class="id">X509Certificates</span>

<span class="c">// Load the certificate from local file</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 100)" onmouseover="showTip(event, 'fs51', 100)" class="id">clientCert</span> <span class="o">=</span> 
  <span class="k">new</span> <span onmouseout="hideTip(event, 'fs52', 101)" onmouseover="showTip(event, 'fs52', 101)" class="d">X509Certificate2</span><span class="pn">(</span><span class="s">&quot;.\myCertificate.pfx&quot;</span><span class="pn">,</span> <span class="s">&quot;password&quot;</span><span class="pn">)</span>

<span class="c">// Send the request with certificate</span>
<span onmouseout="hideTip(event, 'fs37', 102)" onmouseover="showTip(event, 'fs37', 102)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 103)" onmouseover="showTip(event, 'fs42', 103)" class="id">Request</span>
  <span class="pn">(</span> <span class="s">&quot;http://yourprotectedresouce.com/data&quot;</span><span class="pn">,</span>
    <span class="id">customizeHttpRequest</span> <span class="o">=</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs53', 104)" onmouseover="showTip(event, 'fs53', 104)" class="id">req</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs53', 105)" onmouseover="showTip(event, 'fs53', 105)" class="fn">req</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 106)" onmouseover="showTip(event, 'fs54', 106)" class="id">ClientCertificates</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 107)" onmouseover="showTip(event, 'fs55', 107)" class="id">Add</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs51', 108)" onmouseover="showTip(event, 'fs51', 108)" class="id">clientCert</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 109)" onmouseover="showTip(event, 'fs39', 109)" class="fn">ignore</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs53', 110)" onmouseover="showTip(event, 'fs53', 110)" class="id">req</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2>Handling multipart form data</h2>
<p>You can also send http multipart form data via the <code>Multipart</code> <code>HttpRequestBody</code> case.
Data sent in this way is streamed instead of being read into memory in its entirety, allowing for
uploads of arbitrary size.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 111)" onmouseover="showTip(event, 'fs56', 111)" class="id">largeFilePath</span> <span class="o">=</span> <span class="s">&quot;//path/to/large/file.mp4&quot;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 112)" onmouseover="showTip(event, 'fs57', 112)" class="id">data</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs33', 113)" onmouseover="showTip(event, 'fs33', 113)" class="fn">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 114)" onmouseover="showTip(event, 'fs58', 114)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 115)" onmouseover="showTip(event, 'fs59', 115)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 116)" onmouseover="showTip(event, 'fs60', 116)" class="id">OpenRead</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs56', 117)" onmouseover="showTip(event, 'fs56', 117)" class="id">largeFilePath</span><span class="pn">)</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs33', 118)" onmouseover="showTip(event, 'fs33', 118)" class="d">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 119)" onmouseover="showTip(event, 'fs58', 119)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 120)" onmouseover="showTip(event, 'fs61', 120)" class="id">Stream</span>

<span onmouseout="hideTip(event, 'fs37', 121)" onmouseover="showTip(event, 'fs37', 121)" class="m">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 122)" onmouseover="showTip(event, 'fs42', 122)" class="id">Request</span>
  <span class="pn">(</span> <span class="s">&quot;http://endpoint/for/multipart/data&quot;</span><span class="pn">,</span> 
  <span class="id">body</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs62', 123)" onmouseover="showTip(event, 'fs62', 123)" class="uc">Multipart</span><span class="pn">(</span>
    <span class="id">boundary</span> <span class="o">=</span> <span class="s">&quot;define a custom boundary here&quot;</span><span class="pn">,</span> <span class="c">// this is used to separate the items you&#39;re streaming</span>
    <span class="id">parts</span> <span class="o">=</span> <span class="pn">[</span>
      <span onmouseout="hideTip(event, 'fs63', 124)" onmouseover="showTip(event, 'fs63', 124)" class="uc">MultipartItem</span><span class="pn">(</span><span class="s">&quot;formFieldName&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs33', 125)" onmouseover="showTip(event, 'fs33', 125)" class="fn">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 126)" onmouseover="showTip(event, 'fs58', 126)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs64', 127)" onmouseover="showTip(event, 'fs64', 127)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs65', 128)" onmouseover="showTip(event, 'fs65', 128)" class="id">GetFileName</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs56', 129)" onmouseover="showTip(event, 'fs56', 129)" class="id">largeFilePath</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs57', 130)" onmouseover="showTip(event, 'fs57', 130)" class="id">data</span><span class="pn">)</span>
    <span class="pn">]</span>
  <span class="pn">)</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2>Related articles</h2>
<ul>
<li><a href="../reference/fsharp-data-http.html">API Reference: HTTP class</a></li>
<li><a href="../reference/fsharp-data-httpmethod.html">API Reference: HttpMethod module</a></li>
<li><a href="../reference/fsharp-data-httprequestheaders.html">API Reference: HttpRequestHeaders module</a></li>
<li><a href="../reference/fsharp-data-httpresponseheaders.html">API Reference: HttpResponseHeaders module</a></li>
<li><a href="../reference/fsharp-data-httpcontenttypes.html">API Reference: HttpContentTypes module</a></li>
<li><a href="../reference/fsharp-data-httprequestbody.html">API Reference: HttpRequestBody discriminated union</a></li>
<li><a href="../reference/fsharp-data-httpresponse.html">API Reference: HttpResponse record</a></li>
<li><a href="../reference/fsharp-data-httpresponsebody.html">API Reference: HttpResponseBody discriminated union</a></li>
<li><a href="../reference/fsharp-data-httpresponsewithstream.html">API Reference: HttpResponseWithStream record</a></li>
</ul>

<div class="tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs2">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs3">Multiple items<br />module Http<br /><br />--------------------<br />type Http =<br />&#160;&#160;private new : unit -&gt; Http<br />&#160;&#160;static member private AppendQueryToUrl : url:string * query:(string * string) list -&gt; string<br />&#160;&#160;static member AsyncRequest : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponse&gt;<br />&#160;&#160;static member AsyncRequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponseWithStream&gt;<br />&#160;&#160;static member AsyncRequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;string&gt;<br />&#160;&#160;static member private EncodeFormData : query:string -&gt; string<br />&#160;&#160;static member private EncodeUrlParam : param:string -&gt; string<br />&#160;&#160;static member private InnerRequest : url:string * toHttpResponse:(string -&gt; int -&gt; string -&gt; string -&gt; &#39;a0 option -&gt; Map&lt;string,string&gt; -&gt; Map&lt;string,string&gt; -&gt; Stream -&gt; Async&lt;&#39;a1&gt;) * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:&#39;a0 * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;&#39;a1&gt;<br />&#160;&#160;static member Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponse<br />&#160;&#160;static member RequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponseWithStream<br />&#160;&#160;...</div>
<div class="tip" id="fs4">static member Http.RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; string</div>
<div class="tip" id="fs5">val async : AsyncBuilder</div>
<div class="tip" id="fs6">val html : string</div>
<div class="tip" id="fs7">static member Http.AsyncRequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; Async&lt;string&gt;</div>
<div class="tip" id="fs8">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs9">property System.String.Length: int</div>
<div class="tip" id="fs10">Multiple items<br />type Async =<br />&#160;&#160;static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />&#160;&#160;static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />&#160;&#160;static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member AwaitTask : task:Task -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />&#160;&#160;static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member CancelDefaultToken : unit -&gt; unit<br />&#160;&#160;static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />&#160;&#160;static member Choice : computations:seq&lt;Async&lt;&#39;T option&gt;&gt; -&gt; Async&lt;&#39;T option&gt;<br />&#160;&#160;static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />&#160;&#160;...<br /><br />--------------------<br />type Async&lt;&#39;T&gt; =</div>
<div class="tip" id="fs11">static member Async.Start : computation:Async&lt;unit&gt; * ?cancellationToken:System.Threading.CancellationToken -&gt; unit</div>
<div class="tip" id="fs12">val query : Linq.QueryBuilder</div>
<div class="tip" id="fs13">val apiKey : string</div>
<div class="tip" id="fs14">module HttpRequestHeaders<br /><br />from FSharp.Data</div>
<div class="tip" id="fs15">val Accept : contentType:string -&gt; string * string</div>
<div class="tip" id="fs16">module HttpContentTypes<br /><br />from FSharp.Data</div>
<div class="tip" id="fs17">val Json : string</div>
<div class="tip" id="fs18">val response : HttpResponse</div>
<div class="tip" id="fs19">static member Http.Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; HttpResponse</div>
<div class="tip" id="fs20">HttpResponse.Headers: Map&lt;string,string&gt;</div>
<div class="tip" id="fs21">HttpResponse.Cookies: Map&lt;string,string&gt;</div>
<div class="tip" id="fs22">HttpResponse.ResponseUrl: string</div>
<div class="tip" id="fs23">HttpResponse.StatusCode: int</div>
<div class="tip" id="fs24">union case HttpRequestBody.FormValues: seq&lt;string * string&gt; -&gt; HttpRequestBody</div>
<div class="tip" id="fs25">val ContentType : contentType:string -&gt; string * string</div>
<div class="tip" id="fs26">union case HttpRequestBody.TextRequest: string -&gt; HttpRequestBody</div>
<div class="tip" id="fs27">val msdnUrl : className:string -&gt; string</div>
<div class="tip" id="fs28">val className : string</div>
<div class="tip" id="fs29">val root : string</div>
<div class="tip" id="fs30">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs31">val docInCSharp : string</div>
<div class="tip" id="fs32">System.String.Contains(value: string) : bool</div>
<div class="tip" id="fs33">namespace System</div>
<div class="tip" id="fs34">namespace System.Net</div>
<div class="tip" id="fs35">val cc : CookieContainer</div>
<div class="tip" id="fs36">Multiple items<br />type CookieContainer =<br />&#160;&#160;new : unit -&gt; CookieContainer + 2 overloads<br />&#160;&#160;member Add : cookie:Cookie -&gt; unit + 3 overloads<br />&#160;&#160;member Capacity : int with get, set<br />&#160;&#160;member Count : int<br />&#160;&#160;member GetCookieHeader : uri:Uri -&gt; string<br />&#160;&#160;member GetCookies : uri:Uri -&gt; CookieCollection<br />&#160;&#160;member MaxCookieSize : int with get, set<br />&#160;&#160;member PerDomainCapacity : int with get, set<br />&#160;&#160;member SetCookies : uri:Uri * cookieHeader:string -&gt; unit<br />&#160;&#160;static val DefaultCookieLimit : int<br />&#160;&#160;...<br /><br />--------------------<br />CookieContainer() : CookieContainer<br />CookieContainer(capacity: int) : CookieContainer<br />CookieContainer(capacity: int, perDomainCapacity: int, maxCookieSize: int) : CookieContainer</div>
<div class="tip" id="fs37">Multiple items<br />namespace System.Net.Http<br /><br />--------------------<br />module Http<br /><br />--------------------<br />type Http =<br />&#160;&#160;private new : unit -&gt; Http<br />&#160;&#160;static member private AppendQueryToUrl : url:string * query:(string * string) list -&gt; string<br />&#160;&#160;static member AsyncRequest : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponse&gt;<br />&#160;&#160;static member AsyncRequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponseWithStream&gt;<br />&#160;&#160;static member AsyncRequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;string&gt;<br />&#160;&#160;static member private EncodeFormData : query:string -&gt; string<br />&#160;&#160;static member private EncodeUrlParam : param:string -&gt; string<br />&#160;&#160;static member private InnerRequest : url:string * toHttpResponse:(string -&gt; int -&gt; string -&gt; string -&gt; &#39;a0 option -&gt; Map&lt;string,string&gt; -&gt; Map&lt;string,string&gt; -&gt; Stream -&gt; Async&lt;&#39;a1&gt;) * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:&#39;a0 * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;&#39;a1&gt;<br />&#160;&#160;static member Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponse<br />&#160;&#160;static member RequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponseWithStream<br />&#160;&#160;...</div>
<div class="tip" id="fs38">static member Http.RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; string</div>
<div class="tip" id="fs39">val ignore : value:&#39;T -&gt; unit</div>
<div class="tip" id="fs40">val docInFSharp : string</div>
<div class="tip" id="fs41">val logoUrl : string</div>
<div class="tip" id="fs42">static member Http.Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponse</div>
<div class="tip" id="fs43">union case HttpResponseBody.Text: string -&gt; HttpResponseBody</div>
<div class="tip" id="fs44">val text : string</div>
<div class="tip" id="fs45">union case HttpResponseBody.Binary: byte [] -&gt; HttpResponseBody</div>
<div class="tip" id="fs46">val bytes : byte []</div>
<div class="tip" id="fs47">property System.Array.Length: int</div>
<div class="tip" id="fs48">namespace System.Security</div>
<div class="tip" id="fs49">namespace System.Security.Cryptography</div>
<div class="tip" id="fs50">namespace System.Security.Cryptography.X509Certificates</div>
<div class="tip" id="fs51">val clientCert : X509Certificate2</div>
<div class="tip" id="fs52">Multiple items<br />type X509Certificate2 =<br />&#160;&#160;inherit X509Certificate<br />&#160;&#160;new : unit -&gt; X509Certificate2 + 12 overloads<br />&#160;&#160;member Archived : bool with get, set<br />&#160;&#160;member Extensions : X509ExtensionCollection<br />&#160;&#160;member FriendlyName : string with get, set<br />&#160;&#160;member GetNameInfo : nameType:X509NameType * forIssuer:bool -&gt; string<br />&#160;&#160;member HasPrivateKey : bool<br />&#160;&#160;member Import : rawData:byte[] -&gt; unit + 5 overloads<br />&#160;&#160;member IssuerName : X500DistinguishedName<br />&#160;&#160;member NotAfter : DateTime<br />&#160;&#160;member NotBefore : DateTime<br />&#160;&#160;...<br /><br />--------------------<br />X509Certificate2() : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: byte []) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(fileName: string) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(handle: nativeint) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(certificate: X509Certificate) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: byte [], password: string) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: byte [], password: System.Security.SecureString) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(fileName: string, password: string) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(fileName: string, password: System.Security.SecureString) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: byte [], password: string, keyStorageFlags: X509KeyStorageFlags) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs53">val req : HttpWebRequest</div>
<div class="tip" id="fs54">property HttpWebRequest.ClientCertificates: X509CertificateCollection</div>
<div class="tip" id="fs55">X509CertificateCollection.Add(value: X509Certificate) : int</div>
<div class="tip" id="fs56">val largeFilePath : string</div>
<div class="tip" id="fs57">val data : System.IO.Stream</div>
<div class="tip" id="fs58">namespace System.IO</div>
<div class="tip" id="fs59">type File =<br />&#160;&#160;static member AppendAllLines : path:string * contents:IEnumerable&lt;string&gt; -&gt; unit + 1 overload<br />&#160;&#160;static member AppendAllText : path:string * contents:string -&gt; unit + 1 overload<br />&#160;&#160;static member AppendText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Copy : sourceFileName:string * destFileName:string -&gt; unit + 1 overload<br />&#160;&#160;static member Create : path:string -&gt; FileStream + 3 overloads<br />&#160;&#160;static member CreateText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Decrypt : path:string -&gt; unit<br />&#160;&#160;static member Delete : path:string -&gt; unit<br />&#160;&#160;static member Encrypt : path:string -&gt; unit<br />&#160;&#160;static member Exists : path:string -&gt; bool<br />&#160;&#160;...</div>
<div class="tip" id="fs60">System.IO.File.OpenRead(path: string) : System.IO.FileStream</div>
<div class="tip" id="fs61">type Stream =<br />&#160;&#160;inherit MarshalByRefObject<br />&#160;&#160;member BeginRead : buffer:byte[] * offset:int * count:int * callback:AsyncCallback * state:obj -&gt; IAsyncResult<br />&#160;&#160;member BeginWrite : buffer:byte[] * offset:int * count:int * callback:AsyncCallback * state:obj -&gt; IAsyncResult<br />&#160;&#160;member CanRead : bool<br />&#160;&#160;member CanSeek : bool<br />&#160;&#160;member CanTimeout : bool<br />&#160;&#160;member CanWrite : bool<br />&#160;&#160;member Close : unit -&gt; unit<br />&#160;&#160;member CopyTo : destination:Stream -&gt; unit + 1 overload<br />&#160;&#160;member CopyToAsync : destination:Stream -&gt; Task + 2 overloads<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;...</div>
<div class="tip" id="fs62">union case HttpRequestBody.Multipart: boundary: string * parts: seq&lt;MultipartItem&gt; -&gt; HttpRequestBody</div>
<div class="tip" id="fs63">Multiple items<br />union case MultipartItem.MultipartItem: formField: string * filename: string * content: System.IO.Stream -&gt; MultipartItem<br /><br />--------------------<br />type MultipartItem = | MultipartItem of formField: string * filename: string * content: Stream</div>
<div class="tip" id="fs64">type Path =<br />&#160;&#160;static val DirectorySeparatorChar : char<br />&#160;&#160;static val AltDirectorySeparatorChar : char<br />&#160;&#160;static val VolumeSeparatorChar : char<br />&#160;&#160;static val InvalidPathChars : char[]<br />&#160;&#160;static val PathSeparator : char<br />&#160;&#160;static member ChangeExtension : path:string * extension:string -&gt; string<br />&#160;&#160;static member Combine : [&lt;ParamArray&gt;] paths:string[] -&gt; string + 3 overloads<br />&#160;&#160;static member GetDirectoryName : path:string -&gt; string<br />&#160;&#160;static member GetExtension : path:string -&gt; string<br />&#160;&#160;static member GetFileName : path:string -&gt; string<br />&#160;&#160;...</div>
<div class="tip" id="fs65">System.IO.Path.GetFileName(path: string) : string</div>

        </div>
        <div class="span3">
          <a href="/FSharp.Data/index.html">
            <img src="/FSharp.Data/images/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">

            <li class="nav-header">
              <a href="/FSharp.Data/ja/index.html" class="nflag"><img src="/FSharp.Data/images/ja.png" /></a>
              <a href="/FSharp.Data/index.html" class="nflag nflag2"><img src="/FSharp.Data/images/en.png" /></a>
              F# Data
            </li>

            <li class="divider"></li>

            <li><a href="https://nuget.org/packages/FSharp.Data"><img src="http://img.shields.io/nuget/v/FSharp.Data.svg?style=flat" /></a></li>
            <li><a href="http://github.com/fsharp/FSharp.Data">Source Code on GitHub</a></li>
            <li><a href="http://github.com/fsharp/FSharp.Data/blob/master/LICENSE.md">License (Apache 2.0)</a></li>
            <li><a href="http://github.com/fsharp/FSharp.Data/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
            <li><a href="http://github.com/fsharp/FSharp.Data/blob/master/CONTRIBUTING.md">Contributing to F# Data</a></li>
            
            <li class="nav-header">Documentation</li>

            <li><a href="/FSharp.Data/index.html">Introduction</a></li>

            <li class="divider"></li>

            <li><a href="/FSharp.Data/library/CsvProvider.html">CSV Type Provider</a></li>
            <li><a href="/FSharp.Data/library/HtmlProvider.html">HTML Type Provider</a></li>
            <li><a href="/FSharp.Data/library/JsonProvider.html">JSON Type Provider</a></li>
            <li><a href="/FSharp.Data/library/XmlProvider.html">XML Type Provider</a></li>
            <li><a href="/FSharp.Data/library/WorldBank.html">WorldBank Provider</a></li>

            <li class="divider"></li>

            <li><a href="/FSharp.Data/library/Http.html">HTTP Utilities</a></li>
            <li><a href="/FSharp.Data/library/CsvFile.html">CSV Parser</a></li>
            <li><a href="/FSharp.Data/library/HtmlParser.html">HTML Parser</a></li>
            <li><a href="/FSharp.Data/library/HtmlCssSelectors.html">HTML CSS Selectors</a></li>
            <li><a href="/FSharp.Data/library/JsonValue.html">JSON Parser</a></li>

            <li class="nav-header">Tutorials</li>

            <li><a href="/FSharp.Data/tutorials/JsonToXml.html">Converting between JSON and XML</a></li>
            <li><a href="/FSharp.Data/tutorials/JsonAnonymizer.html">Anonymizing JSON</a></li>

            <li class="nav-header">Reference</li>

            <li><a href="/FSharp.Data/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fsharp/FSharp.Data"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
  </html>